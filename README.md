# dongo-be
동래고 설문 페이지 - 백엔드

## 사용처
* 동래고등학교 2021학년도 1, 2, 3학년 1학기 특강 신청
* 동래고등학교 2021학년도 2학년 동아리 신청
* 2021년도 진로부 강연회 "뼈 때리기" 신청

에서 이 프로그램을 사용하여 설문을 진행하였습니다.

## 구조
### 프론트엔드
Vue.js를 사용하였습니다.

서버와는 RestFul API를 사용하여 통신합니다.

### 로그인
`data/data.csv` 에 학생 정보(학번 및 이름)이 저장되어 있습니다.

학번(아이디), 이름(비밀번호)으로 로그인을 시도할 수 있으며, 로그인을 성공하면 학번만 담고있는 JWT 토큰이 발급됩니다.

만료 기간은 7일 입니다.

### 설문
MongoDB의 insert/find 쿼리가 비동기로 작동하므로, 여러 설문 요청이 동시에 작업되면 예상하지 않는 행동이 발생할 수 있습니다. (정원을 초과하는 답변 발생 등)

이를 해결하기 위해, Queue 자료구조를 사용하여 순차적으로 처리합니다.

`express-queue` 모듈을 사용하면 쉽게 해결할 수 있으며, [지난 2020학년도 동아리 신청 프로그램](https://github.com/dongnae/Application_backend)은 직접 구현하였습니다.

## TODO
* [ ] 설문 관리 기능 추가
